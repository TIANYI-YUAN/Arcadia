<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>The Arcadia</title>
        <meta name="description" content="the cloud">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
        <link rel="stylesheet" href="source/ionicons.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
        <script src="main.js"></script>
        
        <style>
            body{ margin:0;
                -moz-user-select: none; 
                -webkit-user-select: none; 
                -ms-user-select: none; 
                -khtml-user-select: none; 
                user-select: none; 
            
            
            
            }
            

            #nav{
                height:60px;
                width:100%;
                background-color: #07253F;
                position: absolute;
                box-shadow: 0px 2px 7px black;
                z-index: 7;
            }
            
           
            #leftNav{
                height:100%;
                width:330px;
                padding-top:60px;
                background-color: #0A3152;
                position: absolute;
                box-shadow: 0px 2px 7px black;
                z-index: 3;
       
            }
            #fileContainer{
                height:100%;
                margin-left:330px;
                padding-top:60px;
               
                background-color: #E3E3E3;               
                z-index: 2;



            }
            #fileFrame{
                
                
                
                overflow:auto;
                padding-top:40px;
              
                
                             
             
                
            }
            #userIcon{
                position: absolute;
                right:10px;
                top:10px;
                height:30px;
                width:40px;
                color:white;
                font-size: 30px;

            }
            #userName{
                width:200px;
                height:30px;
                font-size: 20px;
                color:white;
                right:60px;
                position: absolute;
                top:17px;
                text-align: right;
            }
         
            .file{
                width:150px;
                height:200px;
                background-color: #d8d8d8;
                position: relative;
                border-radius: 4px;
                margin-bottom:40px;
                margin-left:40px;
                z-index: 6;
                box-shadow: 0px 1px 7px #3f3f3f;
                float:left;
            }
            .filemask{
                width:150px;
                height:200px;
    
                z-index: 15;
                position: absolute;
            }
            .filePic{
                width:150px;
                height:150px;
                z-index: 5;
                position:absolute;
            
                
            }
            .fPic{
              
                height:100px;
                top:25px;
                z-index: 6;
                left:38px;
       
                position:absolute;
    
            }
            .fileName{
                width:150px;
                height:50px;
                margin-top:150px;
                position:absolute;
                background-color: white;
                border-radius: 0px 0px 4px 4px;
                font-size: 17px;
                line-height: 50px;
                text-align: center;
                font-family: "myfont";
                overflow: hidden;  
                white-space:nowrap; 
                text-overflow:ellipsis;
                z-index:17;
            }
            #m{
                width:100%;
                height:100%;
                position: absolute;
            }

            #contentFrame{
               width:330px;
               height:70%;
               position: relative;
          
             
               top:80px;
               color:white;
               font-size:22px;
         


            }
            .navC{
                margin:0px;
                width:330px;
                height:45px; 
                padding-left:10px;
                padding-top:5px;
                position: relative;
                font-family: "myfontB";    
                line-height: 35px;
            }
            .navC_selected{
                background-color: #07253F;
                margin:0px;
                width:330px;
                height:45px; 
                padding-left:10px;
                padding-top:5px;
                position: relative;
                font-family: "myfontB"; 
                line-height: 35px;
            }
           
            div.navC:hover { 
                background-color: #134363;
            }
            div.file:hover {
                box-shadow: 0px 1px 13px #3f3f3f;
            }
            .moreInfo{
                background-color:#3792bc;
                width:150px;
                height:35px;
                bottom: 10px;
                position: absolute;
                z-index:16;
                color:white;
                font-size: 18px;
                line-height:35px;
                font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                font-weight: lighter;
                text-align:center;
                cursor: pointer;
            }
            #uploadButton{
                font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                font-weight: lighter;
                text-align:center;
                height:40px;
                margin-left:65px;
                margin-top:10px;
                width:200px;
                font-size:16px;              
            }
            #progressBarContainer{
                width:80%;
                left:10%;
                position: absolute;
                height:100px;
                top:300px;
                
            }
            #uploadButtonP{
                font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                font-weight: lighter;
                text-align:center;
                height:40px;
                margin-left:65px;
                margin-top:10px;
                width:200px;
                font-size:16px;       
                display: none;       
            }
            .star{
                position: absolute;
                top:5px;
                left:5px;
                width:25px;
                height:25px;
                color:#f4e324;
                font-size: 25px;
                line-height: 25px;
               
            }
            .delete{
                position: absolute;
                top:5px;
                right:5px;
                width:25px;
                height:25px;
                color:#c82c2c;
                font-size: 25px;
                line-height: 25px;
                opacity:0;
                z-index:100;
                cursor:pointer;
                display: none;
            }
            @font-face
            {
                font-family: myfont;
                src: url('fonts/Nunito-Regular.ttf');
            }
            @font-face
            {
                font-family: myfontB;
                src: url('fonts/MerriweatherSans-Bold.ttf');
            }
        </style>                        
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
        <div id="m">
            <div id="n">
            <div id="nav">
                <div>
                    <span id="userName">TIANYI YUAN</span>
                    <div id="userIcon" class="ion-person"></div>
                </div>
            </div>
            </div>
            
            <div id="leftNav">
                <div id="contentFrame">
                    <div class="navC" id="files">
                        <p class="ion-ios-list-outline"style="float:left;font-size:26px;height:10px;position:relative;top:-1px;cursor:pointer;"></p>
                        <p style="margin-left:30px;margin-bottom:0px;cursor:pointer;">Files</font></p>
                    </div>
                    <div class="navC" id="shared">
                        <p class="ion-ios-paperplane-outline"style="float:left;font-size:26px;height:10px;position:relative;top:-1px;cursor:pointer;"></p>
                        <p style="margin-left:30px;margin-bottom:0px;cursor:pointer;">Shared</font></p>
                    </div>
                    <div class="navC" id="starred">
                        <p class="ion-ios-star-outline"style="float:left;font-size:26px;height:10px;position:relative;top:-2px;left:-2px;cursor:pointer;"></p>
                        <p style="margin-left:30px;margin-bottom:0px;cursor:pointer;">Starred</font></p>
                    </div>
                    <div class="navC" id="photos">
                        <p class="ion-ios-camera-outline"style="float:left;font-size:26px;height:10px;position:relative;top:-1px;left:-1px;cursor:pointer;"></p>
                        <p style="margin-left:30px;margin-bottom:0px;cursor:pointer;">Photos</font></p>
                    </div>
                    <div class="navC" id="bin">
                        <p class="ion-ios-trash-outline"style="float:left;font-size:26px;height:10px;position:relative;top:-1px;left:1px;cursor:pointer;"></p>
                        <p style="margin-left:30px;margin-bottom:0px;cursor:pointer;">Bin</font></p>
                    </div>

                    <div id="uploadButton" type="button" class="btn btn-success">
                        Upload Files <span class='ion-ios-cloud-upload-outline'style="font-size:18px;"></span>
                    </div>
                    <div id="uploadButtonP" type="button" class="btn btn-success">
                        Upload photos <span class='ion-ios-cloud-upload-outline'style="font-size:18px;"></span>
                    </div>
                    <form id='uploadform'>
                    <input type="file" name="uploadfile" id='uploadfile' style="display:none"/>
                    </form>
                    <form id='uploadformP'>
                    <input type="file" name="uploadphoto" id='uploadphoto' style="display:none" accept="image/*"/>
                    </form>
                    <br/>
                    <div id="progressBarContainer"style="display:none;">
                        <div id='progresstxt'style="color:white;font-size:12px;text-align:center;height:20px;"></div>
                        <div class="progress active">
                            <div class="progress-bar progress-bar-striped" id="progress" role="progressbar" style="width: 0%" aria-valuenow="55" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                    </div>
                    <!--<canvas id="myCanvas" style="width:400px;height:400px;position:absolute;bottom:-120px;left:15px;">
                    </canvas>-->
                </div>
            </div>
            <div id="fileContainer">
                <div id="fileFrame">           
                </div>
            
            </div>

        </div>

        <div id="contextmenu" style="width:100px;height:100px;background-color:#f4e324;position:absolute;z-index:999;display:none;">

        </div>
        <!--<script src="games/game.js"></script>-->
        <!--<script>
            // var canvas = document.getElementById("portray");
            // var ctx = canvas.getContext("2d");
            // var image = new Image();
            // image.onload = drawImageActualSize;
            // image.src = 'games/part1.png';
            // function drawImageActualSize() {
            // // use the intrinsic size of image in CSS pixels for the canvas element
            
            // // will draw the image as 300x227 ignoring the custom size of 60x45
            // // given in the constructor
            // // ctx.drawImage(this, 0, 0);

            // // To use the custom size we'll have to specify the scale parameters 
            // // using the element's width and height properties - lets draw one 
            // // on top in the corner:
            // ctx.drawImage(image, 0, 0, 16, 11);
            // }
            // Create an array to store our particles
var particles = [];

// The amount of particles to render
var particleCount = 300;

// The maximum velocity in each direction
var maxVelocity = 2;

// The target frames per second (how often do we want to update / redraw the scene)
var targetFPS = 33;

// Set the dimensions of the canvas as variables so they can be used.
var canvasWidth = 400;
var canvasHeight = 400;

// Create an image object (only need one instance)
var imageObj = new Image();

// Once the image has been downloaded then set the image on all of the particles
imageObj.onload = function() {
    particles.forEach(function(particle) {
            particle.setImage(imageObj);
    });
};

// Once the callback is arranged then set the source of the image
imageObj.src = "games/part1.png";

// A function to create a particle object.
function Particle(context) {

    // Set the initial x and y positions
    this.x = 0;
    this.y = 0;

    // Set the initial velocity
    this.xVelocity = 0;
    this.yVelocity = 0;

    // Set the radius
    this.radius = 5;

    // Store the context which will be used to draw the particle
    this.context = context;

    // The function to draw the particle on the canvas.
    this.draw = function() {
        
        // If an image is set draw it
        if(this.image){
            this.context.drawImage(this.image, this.x-128, this.y-128);         
            // If the image is being rendered do not draw the circle so break out of the draw function                
            return;
        }
        // Draw the circle as before, with the addition of using the position and the radius from this object.
        this.context.beginPath();
        this.context.arc(this.x, this.y, this.radius, 0, 2 * Math.PI, false);
        this.context.fillStyle = "rgba(255, 255, 255, 0)";
        this.context.fill();
        this.context.closePath();
    };

    // Update the particle.
    this.update = function() {
        // Update the position of the particle with the addition of the velocity.
        this.x += this.xVelocity;
        this.y += this.yVelocity;

        // Check if has crossed the right edge
        if (this.x >= canvasWidth) {
            this.xVelocity = -this.xVelocity;
            this.x = canvasWidth;
        }
        // Check if has crossed the left edge
        else if (this.x <= 0) {
            this.xVelocity = -this.xVelocity;
            this.x = 0;
        }

        // Check if has crossed the bottom edge
        if (this.y >= canvasHeight) {
            this.yVelocity = -this.yVelocity;
            this.y = canvasHeight;
        }
        
        // Check if has crossed the top edge
        else if (this.y <= 0) {
            this.yVelocity = -this.yVelocity;
            this.y = 0;
        }
    };

    // A function to set the position of the particle.
    this.setPosition = function(x, y) {
        this.x = x;
        this.y = y;
    };

    // Function to set the velocity.
    this.setVelocity = function(x, y) {
        this.xVelocity = x;
        this.yVelocity = y;
    };
    
    this.setImage = function(image){
        this.image = image;
    }
}

// A function to generate a random number between 2 values
function generateRandom(min, max){
    return Math.random() * (max - min) + min;
}

// The canvas context if it is defined.
var context;

// Initialise the scene and set the context if possible
function init() {
    var canvas = document.getElementById('myCanvas');
    if (canvas.getContext) {

        // Set the context variable so it can be re-used
        context = canvas.getContext('2d');

        // Create the particles and set their initial positions and velocities
        for(var i=0; i < particleCount; ++i){
            var particle = new Particle(context);
            
            // Set the position to be inside the canvas bounds
            particle.setPosition(generateRandom(0, canvasWidth), generateRandom(0, canvasHeight));
            
            // Set the initial velocity to be either random and either negative or positive
            particle.setVelocity(generateRandom(-maxVelocity, maxVelocity), generateRandom(-maxVelocity, maxVelocity));
            particles.push(particle);            
        }
    }
    else {
        alert("Please use a modern browser");
    }
}

// The function to draw the scene
function draw() {
    // Clear the drawing surface and fill it with a black background
    context.fillStyle = "rgba(10, 49, 82, 1)";
    context.fillRect(0, 0, 400, 400);

    // Go through all of the particles and draw them.
    particles.forEach(function(particle) {
        particle.draw();
    });
}

// Update the scene
function update() {
    particles.forEach(function(particle) {
        particle.update();
    });
}

// Initialize the scene
init();

// If the context is set then we can draw the scene (if not then the browser does not support canvas)
if (context) {
    setInterval(function() {
        // Update the scene befoe drawing
        update();

        // Dr
        
        // Draw the scene
        draw();
    }, 1000 / targetFPS);
}
        </script>-->
        <script>
                arcadia.currentCate = document.location.hash.substring(1);
                console.log(arcadia.currentCate);

            $(".navC").click(function(e){
                    
                    location.href="#"+e.currentTarget.id;
                    var id = e.currentTarget.id;
                    arcadia.currentCate = id;
                    arcadia.selectCategory();
                    arcadia.fileModelShow(files,"files",arcadia.currentCate);
                    
            });
               
            // $(window).resize(function(){
                  
            //         var windowHeight = $(window).height();
            //         var windowWidth = $(window).width();
                
            //         $("#leftNav").css("height",windowHeight);
            //         $("#fileFrame").css("height",windowHeight);
            //         $("#fileFrame").css("width",windowWidth-350);
            //         console.log("resize");
            //     });
            // for(var i=1001 ;i<3000;i++){
            //   arcadia.rpc("createSourceFile",1,"abc1"+i,"dwaw"+i).done(function(data){
            //     console.log("create!")

            //   });
            // }
            $(window).on("load", function (e) {
                var windowWidth = $(window).width();
                var windowHeight = $(window).height();           
                arcadia.selectCategory();

                    arcadia.refresh();
                
                $("#fileFrame").css("height",windowHeight-60);
       
                
                


            });


            $(window).resize(function(){
                  
                    var windowHeight = $(window).height();
                    var windowWidth = $(window).width();
                
                    // $("#leftNav").css("height",windowHeight);
                    $("#fileFrame").css("height",windowHeight-60);
                    // $("#fileFrame").css("width",windowWidth-350);
                    // console.log("resize");
                    arcadia.fileModelShow(files,"files",arcadia.currentCate);

                 
                    
            });

            $('#uploadButton').click(function(){
                $('#uploadfile').click();
            });

            $('#uploadButtonP').click(function(){
                $('#uploadphoto').click();
            });

            $('#uploadfile').change(function (e) { 
     
                arcadia.uploadFile('#uploadform',1).done(function(data){
                    

                    arcadia.refresh();
                    
                });
            });
            
            $('#uploadphoto').change(function (e) { 
     
                arcadia.uploadFile('#uploadformP',1).done(function(data){
                    

                    arcadia.refresh();
                    
                });
            });

              

            
        </script>

        <script>
        //You should create a Array first and make each element be an Object.
        var arr = [];
        arr[0] = {};
        arr[1] = {};
        arr[2] = {};
           arr[0].file = '/s/WechatIMG2.jpeg'     
           arr[1].file = '/s/WechatIMG3.jpeg' 
           arr[1].file = '/s/WechatIMG4.jpeg'   
         //photoslider.open(arr,0);  //  if the index is 0,it will show the first img,if 1,show the second and so on.

         
function blockMenu(e){

  // window.event 是IE才有的物件

  if(window.event){

    e = window.event;

    e.returnValue = false;//取消IE預設事件

  }else{

    e.preventDefault();//取消DOM預設事件
  }
  console.log("右键了!");
  $("#contextmenu").show();
}

document.oncontextmenu = blockMenu;

        </script> 
    </body>
</html>